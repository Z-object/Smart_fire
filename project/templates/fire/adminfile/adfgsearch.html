<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>作战指挥情况</title>
    <link href="/static/css/bootstrap/css/bootstrap.css" rel="stylesheet">
    <script src="/static/js/bootstrap/js/bootstrap.js"></script>
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/static/css/fight.css" type="text/css">
    <script src="/static/js/index.js"></script>
    <style>
        .autocut {
            width:100px;
            height: 30px;
            overflow:hidden;
            white-space:nowrap;
            text-overflow:ellipsis;
            -o-text-overflow:ellipsis;
            -icab-text-overflow: ellipsis;
            -khtml-text-overflow: ellipsis;
            -moz-text-overflow: ellipsis;-webkit-text-overflow: ellipsis;
    }  
    </style>
    <script type="text/javascript">
    function getPage() {
        var pageNum = $('#pageNum').val();
        if(pageNum >= 1 && pageNum <= {{ Page.paginator.num_pages }}){
            window.location.href="http://127.0.0.1:8000/fire/adfgsearch?page="+pageNum+"&area={{ area }}";
        }
        else{
            alert('请输入正确的页码!')
        }
    }
    </script>
</head>
<body >
<!--总的大盒子  开始-->
<div class="box" style="height: 600px">
    <!--顶部导航栏  开始-->
    {% for u in user %}
    <div class="navbox">
        <p style="position: absolute;left: 1180px;top: 5px;">欢迎您,{{ u.username }}</p>
        {% if u.goods_pic %}
        <img style="position: absolute;left: 1330px;top: 0px;width:120px; height:120px; border-radius:50%; overflow:hidden;width: 40px;height: 40px" src="/static/media/{{ u.goods_pic }}">
            {% else %}
        <img style="position: absolute;left: 1330px;top: 0px;width:120px; height:120px; border-radius:50%; overflow:hidden;width: 40px;height: 40px" src="/static/img/图片.png">
        {% endif %}
        <a href="/fire/login" >退出登录</a>
    </div>
    {% endfor %}
    <!--顶部导航栏  结束-->
    <!--中部部导航栏  开始-->
    <div class="navbox2">
        <p>城市消防安全系统</p>
        <div class="box1" style="width: 154px;position: absolute;right: 1200px">
            <img src="/static/images/nav/8.png" style="margin-left: 15px">
            <a href="javascript:void(0)" onclick="bot1how()" style="margin-left: 15px">数据管理</a>
        </div>
        <div class="box2" style="width: 154px;position: absolute;right: 1000px">
            <img src="/static/images/nav/1.png" style="margin-left: 20px">
            <a href="/fire/rep_index" style="margin-left: 20px">数据采集</a>
        </div>
        <div class="box3" style="width: 154px;position: absolute;right: 800px">
            <img src="/static/images/nav/2.png" style="margin-left: 18px">
            <a href="/fire/datevis" style="margin-left: 18px">数据分析/可视化</a>
        </div>
        <div class="box4" style="width: 154px;position: absolute;right: 600px">
            <img src="/static/images/nav/3.png" style="margin-left: 20px">
            <a href="http://localhost:8088/index" style="margin-left: 20px">地理信息可视化</a>
        </div>
        <div class="box5" style="width: 154px;position: absolute;right: 400px">
            <img src="/static/images/nav/3.png" style="margin-left: 24px">
            <a href="/fire/adminruleindex" style="margin-left: 24px">救援方案管理</a>
        </div>
        <div class="box7" style="width: 154px;position: absolute;right: 200px">
            <img src="/static/images/nav/5.png" style="margin-left: 22px">
            <a href="javascript:void(0)" style="margin-left: 22px">系统设置</a>
        </div>
        <div class="box9" style="width: 154px">
            <img src="/static/images/nav/7.png" style="margin-left: 24px">
            <a href="/fire/adminpsd" style="margin-left: 24px">修改密码</a>
        </div>
    </div>
    <!--中部部导航栏  结束-->
    <!--数据管理  开始-->
    <div class="bottom_box1" id="bot1"  style="display: block;height: 600px">
    <!--左边导航栏  开始-->
    <div class="left_box" style="height: 680px">
        <!--数据管理导航  开始-->
        <div class="left_box1">
            <img src="/static/images/1.png" class="img_box">
            <p>数据管理</p>
        </div>
        <!--数据管理导航  开始-->
        <!--导航栏1  开始-->
        <div class="min_navbox">
            <img src="/static/images/2.png" class="min_img">
            <a href="/fire/index2" >火灾基本情况</a>
        </div>
        <!--导航栏1  结束-->
        <!--导航栏2  开始-->
        <div class="min_navbox" >
            <img src="/static/images/2.png" class="min_img">
            <a href="/fire/adminfight">火灾作战指挥</a>
        </div>
        <!--导航栏2  结束-->
        <!--导航栏3  开始-->
        <div class="min_navbox">
            <img src="/static/images/2.png" class="min_img">
            <a href="/fire/adminexper"  >火灾经验总结</a>
        </div>
        <!--导航栏3  结束-->
        <!--导航栏4  结束-->
    </div>
    <!--左下部导航栏  结束-->
    <!--导航栏详细2  开始-->
    <div class="nav_box2" style="display: block;height: 680px;background-color: #f6f6f6" id="nav_box2">
        <div style="width: 1340px;height: 30px;background-color: #ffffff;border-bottom: solid 1px">
            <p style="padding-top: 4px;letter-spacing: 3px;margin-left: 20px">火灾作战指挥</p>
        </div>
        <div style="width: 1340px;height: 50px;margin-left: 20px">

        </div>
        <div style="width: 1300px;height: 300px;background-color: #f6f6f6;border-style: solid;border-width: 1px;border-radius: 10px;margin-left: 20px">

            <table id="idData" class="table table-bordered" style="width: 1300px;height: 300px;margin-right: 10px;border-style: solid;border-radius: 10px" border="1" >
            <thead>
                    <tr>
                        <th style="width: 176px">
                            ID
                        </th>
                        <th style="width: 176px">
                            火灾区域
                        </th>
                        <th style="width: 176px">
                            被困人数
                        </th>
                        <th style="width: 176px">
                            侦察情况
                        </th>
                        <th style="width: 176px">
                            火灾扑救战术
                        </th>
                        <th style="width: 176px">
                            火灾异变
                        </th>
                        <th style="width: 237.6px">
                            操作
                        </th>
                    </tr>
                    </thead>
                {% for item in Page %}
                <tr>
                    <td style="width: 30px;height: 20px">{{ item.0 }}</td>
                    <td><div class="autocut"  title="{{ item.4 }}" style="float: left">{{ item.4 }}</div></td>
                    <td><div class="autocut"  title="{{ item.2 }}" style="float: left">{{ item.2 }}</div></td>
                    <td><div class="autocut"  title="{{ item.3 }}" style="float: left">{{ item.3 }}</div></td>
                    <td><div class="autocut"  title="{{ item.5 }}" style="float: left">{{ item.5 }}</div></td>
                    <td><div class="autocut"  title="{{ item.6 }}" style="float: left">{{ item.6 }}</div></td>
                    <td>
                            <img style="width: 12px;height: 12px;" src="/static/img/详细信息.png">
                            <a href="/fire/fightdetail?id={{ item.0 }}" style="text-decoration: none;">详情</a>
                            <img style="width: 12px;height: 12px;" src="/static/img/修改.png">
                            <a href="/fire/updatef?id={{ item.0 }}" style="text-decoration: none;">修改</a>
                            <img style="width: 12px;height: 12px;" src="/static/img/3.png">
                            <a href="/fire/deletefight?id={{ item.0 }}" style="text-decoration: none;">删除</a>
                        </td>
                </tr>
                {% endfor %}
              </table>
        </div>
        <div style="width: 800px;height: 200px;position: absolute;top: 500px;left: 350px">
        <div aria-label="Page navigation" >
        <ul class="pagination">
            <li>
                {% if Page.has_previous %}
                    <a href="?page={{ Page.previous_page_number }}&area={{ area }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                {% endif %}
            </li>
            <!-- 形如 12345678910...13 -->
            <li>
                {% if ifEllipsis == 1 %}
                    {% if Page.number >= 1 and Page.number <= 10 %}
                        {% for i in range1 %}
                            {% if i >= 1 and i <= 10 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% elif i == 12 %}
                                <li {% if Page.number == Page.paginator.num_pages %} class="active" {% endif %}>
                                    <a href="?page={{ Page.paginator.num_pages }}&area={{ area }}">{{ Page.paginator.num_pages }}</a>
                                </li>
                            {% elif i == 11 %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% elif Page.number == Page.paginator.num_pages %}
                        {% for i in range1 %}
                            {% if i >= 1 and i <= 10 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% elif i == 12 %}
                                <li {% if Page.number == Page.paginator.num_pages %} class="active" {% endif %}>
                                    <a href="?page={{ Page.paginator.num_pages }}&area={{ area }}">{{ Page.paginator.num_pages }}</a>
                                </li>
                            {% elif i == 11 %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% elif Page.number == 11 %}
                        {% for i in range3 %}
                            {% if i >= 1 and i <= 10 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% elif i == 13 %}
                                <li {% if Page.number == Page.paginator.num_pages %} class="active" {% endif %}>
                                    <a href="?page={{ Page.paginator.num_pages }}&area={{ area }}">{{ Page.paginator.num_pages }}</a>
                                </li>
                            {% elif i == 11 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% else %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% elif Page.number == lastButOne  %}
                        {% for i in range3 %}
                            {% if i >= 1 and i <= 10 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% elif i == 13 %}
                                <li {% if Page.number == Page.paginator.num_pages %} class="active" {% endif %}>
                                    <a href="?page={{ Page.paginator.num_pages }}&area={{ area }}">{{ Page.paginator.num_pages }}</a>
                                </li>
                            {% elif i == 12 %}
                                <li {% if Page.number == lastButOne %} class="active" {% endif %}>
                                    <a href="?page={{ lastButOne }}&area={{ area }}">{{ lastButOne }}</a>
                                </li>
                            {% else %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% elif Page.number > 11 and Page.number < lastButOne %}
                        {% for i in range2 %}
                            {% if i >= 1 and i <= 10 %}
                                <li {% if Page.number == i %} class="active" {% endif %}>
                                    <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                                </li>
                            {% elif i == 11 %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% elif i == 12 %}
                                <li class="active">
                                    <a href="?page={{ Page.number }}&area={{ area }}">{{ Page.number }}</a>
                                </li>
                            {% elif i == 13 %}
                                <li>
                                    <a>...</a>
                                </li>
                            {% elif i == 14 %}
                                <li {% if Page.number == Page.paginator.num_pages %} class="active" {% endif %}>
                                    <a href="?page={{ Page.paginator.num_pages }}&area={{ area }}">{{ Page.paginator.num_pages }}</a>
                                </li>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif ifEllipsis == 0 %}
                    {% for i in Page.paginator.page_range %}
                        <li {% if Page.number == i %} class="active" {% endif %}>
                            <a href="?page={{ i }}&area={{ area }}">{{ i }}</a>
                        </li>
                    {% endfor %}
                {% endif %}
            </li>
            <li>
                {% if Page.has_next %}
                    <a href="?page={{ Page.next_page_number }}&area={{ area }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                {% endif %}
            </li>
            <li>
                <a>共{{ Page.paginator.num_pages }}页</a>
            </li>
            <li>
                跳转至<input type="text" id="pageNum" size="1">页
                <button type="button" class="btn btn-default btn-sm" onclick="getPage();">
                    <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                </button>
            </li>
        </ul>
    </div>
        </div>
    </div>
    <!--导航栏详细2  结束-->
    </div>
    <!--导航栏详细4  结束-->
    </div>
    <!--数据管理  结束-->
</div>
<!--总的大盒子  结束-->
</body>
</html>